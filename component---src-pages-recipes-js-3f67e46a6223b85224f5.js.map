{"version":3,"sources":["webpack:///./src/pages/recipes.js","webpack:///./node_modules/react-bootstrap/esm/Feedback.js","webpack:///./node_modules/react-bootstrap/esm/FormContext.js","webpack:///./node_modules/react-bootstrap/esm/FormControl.js","webpack:///./src/components/useSearch.js"],"names":["RecipesPage","recipes","data","allRecipesJson","nodes","useSearch","searchTerm","onChange","filteredRecipes","filter","recipe","searchExpr","RegExp","test","name","author","RecipeRow","index","style","key","id","to","getRecipeSlug","Item","md","views","sort","a","b","title","description","length","Header","Title","Body","type","placeholder","variant","height","itemData","itemCount","itemSize","Feedback","forwardRef","_ref","ref","_ref$as","as","Component","className","_ref$type","_ref$tooltip","tooltip","props","createElement","displayName","createContext","controlId","undefined","FormControl","classes","_classes","bsPrefix","bsCustomPrefix","size","htmlSize","_ref$isValid","isValid","_ref$isInvalid","isInvalid","plaintext","readOnly","custom","_ref2","prefix","defaultPrefix","_classes2","_classes3","_classes4","_classes5","Object","useState","setSearchTerm","debouncedSetSearchTerm","useCallback","event","target","value"],"mappings":"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","file":"component---src-pages-recipes-js-3f67e46a6223b85224f5.js","sourcesContent":["import { graphql, Link } from 'gatsby';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport {\r\n  Container,\r\n  FormControl,\r\n  Row,\r\n  Col,\r\n  ListGroup,\r\n  Card\r\n} from 'react-bootstrap';\r\nimport { FixedSizeList as List } from 'react-window';\r\nimport useSearch from '~components/useSearch';\r\n\r\nimport Layout from '~components/Layout';\r\nimport SEO from '~components/SEO';\r\nimport { getRecipeSlug } from '~utils';\r\n\r\nexport default function RecipesPage({ data }) {\r\n  const recipes = data.allRecipesJson.nodes;\r\n  const { searchTerm, onChange } = useSearch();\r\n\r\n  const filteredRecipes = recipes.filter((recipe) => {\r\n    const searchExpr = new RegExp(searchTerm, 'i');\r\n\r\n    return (\r\n      searchTerm === '' ||\r\n      searchExpr.test(recipe.name) ||\r\n      searchExpr.test(recipe.author)\r\n    );\r\n  });\r\n\r\n  filteredRecipes.sort((a, b) => b.views - a.views);\r\n\r\n  function RecipeRow({ index, style }) {\r\n    const recipe = filteredRecipes[index];\r\n\r\n    return (\r\n      <Link key={recipe.id} to={getRecipeSlug(recipe)}>\r\n        <ListGroup.Item style={style}>\r\n          <Row>\r\n            <Col md={10}>\r\n              {recipe.name} by {recipe.author}\r\n            </Col>\r\n            <Col md={2}>{recipe.views} views</Col>\r\n          </Row>\r\n        </ListGroup.Item>\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  RecipeRow.propTypes = {\r\n    index: PropTypes.number.isRequired,\r\n    style: PropTypes.object\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <SEO title=\"Recipes\" description={`Tracking ${recipes.length} recipes`} />\r\n      <Container>\r\n        <Card>\r\n          <Card.Header>\r\n            <Card.Title>\r\n              <h1>Recipes</h1>\r\n            </Card.Title>\r\n          </Card.Header>\r\n          <Card.Body>\r\n            <FormControl\r\n              type=\"text\"\r\n              onChange={onChange}\r\n              placeholder=\"search by name or author\"\r\n            />\r\n            <ListGroup variant=\"flush\">\r\n              <List\r\n                height={800}\r\n                itemData={filteredRecipes}\r\n                itemCount={filteredRecipes.length}\r\n                itemSize={60}\r\n              >\r\n                {RecipeRow}\r\n              </List>\r\n            </ListGroup>\r\n          </Card.Body>\r\n        </Card>\r\n      </Container>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nRecipesPage.propTypes = {\r\n  data: PropTypes.object.isRequired\r\n};\r\n\r\nexport const pageQuery = graphql`\r\n  query {\r\n    allRecipesJson {\r\n      nodes {\r\n        author\r\n        id\r\n        name\r\n        views\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nvar Feedback = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'valid' : _ref$type,\n      _ref$tooltip = _ref.tooltip,\n      tooltip = _ref$tooltip === void 0 ? false : _ref$tooltip,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"className\", \"type\", \"tooltip\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, type + \"-\" + (tooltip ? 'tooltip' : 'feedback'))\n  }));\n});\nFeedback.displayName = 'Feedback';\nexport default Feedback;","import React from 'react'; // TODO\n\nvar FormContext = React.createContext({\n  controlId: undefined\n});\nexport default FormContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport all from 'prop-types-extra/lib/all';\nimport React, { useContext } from 'react';\nimport warning from 'warning';\nimport Feedback from './Feedback';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormControl = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      type = _ref.type,\n      size = _ref.size,\n      htmlSize = _ref.htmlSize,\n      id = _ref.id,\n      className = _ref.className,\n      _ref$isValid = _ref.isValid,\n      isValid = _ref$isValid === void 0 ? false : _ref$isValid,\n      _ref$isInvalid = _ref.isInvalid,\n      isInvalid = _ref$isInvalid === void 0 ? false : _ref$isInvalid,\n      plaintext = _ref.plaintext,\n      readOnly = _ref.readOnly,\n      custom = _ref.custom,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"bsCustomPrefix\", \"type\", \"size\", \"htmlSize\", \"id\", \"className\", \"isValid\", \"isInvalid\", \"plaintext\", \"readOnly\", \"custom\", \"as\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom'] : [bsPrefix, 'form-control'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  var classes;\n\n  if (plaintext) {\n    var _classes;\n\n    classes = (_classes = {}, _classes[bsPrefix + \"-plaintext\"] = true, _classes);\n  } else if (type === 'file') {\n    var _classes2;\n\n    classes = (_classes2 = {}, _classes2[bsPrefix + \"-file\"] = true, _classes2);\n  } else if (type === 'range') {\n    var _classes3;\n\n    classes = (_classes3 = {}, _classes3[bsPrefix + \"-range\"] = true, _classes3);\n  } else if (Component === 'select' && custom) {\n    var _classes4;\n\n    classes = (_classes4 = {}, _classes4[bsPrefix + \"-select\"] = true, _classes4[bsPrefix + \"-select-\" + size] = size, _classes4);\n  } else {\n    var _classes5;\n\n    classes = (_classes5 = {}, _classes5[bsPrefix] = true, _classes5[bsPrefix + \"-\" + size] = size, _classes5);\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(controlId == null || !id, '`controlId` is ignored on `<FormControl>` when `id` is specified.') : void 0;\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    type: type,\n    size: htmlSize,\n    ref: ref,\n    readOnly: readOnly,\n    id: id || controlId,\n    className: classNames(className, classes, isValid && \"is-valid\", isInvalid && \"is-invalid\")\n  }));\n});\nFormControl.displayName = 'FormControl';\nexport default Object.assign(FormControl, {\n  Feedback: Feedback\n});","import { debounce } from 'lodash';\r\nimport { useState, useCallback } from 'react';\r\n\r\nexport default function useSearch() {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const debouncedSetSearchTerm = debounce(setSearchTerm, 250);\r\n  const onChange = useCallback(\r\n    (event) => debouncedSetSearchTerm(event.target.value),\r\n    [debouncedSetSearchTerm]\r\n  );\r\n\r\n  return {\r\n    searchTerm,\r\n    onChange\r\n  };\r\n}\r\n"],"sourceRoot":""}